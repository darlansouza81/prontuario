<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Identificação de Reação Adversa a Medicamento</title>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
</head>

<body>
  <header>
    <h1>Identificação de Reação Adversa a Medicamento</h1>
  </header>
  <main>
    <section>
      <h2>Informações do Paciente</h2>
      <label for="nome">Nome:</label>
      <input type="text" id="nomePaciente" required>

      <label for="idade">Data de Nascimento:</label>
      <input type="date" id="dataNascimento"  required>

      <label for="genero">Gênero:</label>
      <select id="genero" name="genero" >
        <option value="">Selecione uma opção</option>
        <option value="Masculino">Masculino</option>
        <option value="Feminino">Feminino</option>
        <option value="Outro">Outro</option>
      </select>

      <fieldset>
        <legend>Histórico Médico</legend>
        <label for="doencas">Doenças:</label>
        <textarea id="doencas" name="doencas"></textarea>

        <label for="medicamentos">Medicamentos em uso:</label>
        <textarea id="medicamentos" name="medicamentos"></textarea>

        <label for="alergias">Alergias conhecidas:</label>
        <textarea id="alergias" name="alergias"></textarea>
      </fieldset>

      
    </section>

    <section>
      <h2>Informações do Medicamento</h2>
      <label for="nomeMedicamento">Nome do medicamento:</label>
      <input type="text" id="nomeMedicamento" name="nomeMedicamento" required>

      <label for="dose">Dose:</label>
      <input type="text" id="dose" name="dose" required>

      <label for="frequencia">Frequência:</label>
      <input type="text" id="frequencia" name="frequencia" required>

      <fieldset>
        <legend>Indicações</legend>
        <label><input type="checkbox" name="indicacoes" value="Dor"> Dor</label>
        <label><input type="checkbox" name="indicacoes" value="Febre"> Febre</label>
        <label><input type="checkbox" name="indicacoes" value="Inflamação"> Inflamação</label>
      </fieldset>

      <fieldset>
        <legend>Contraindicações</legend>
        <label><input type="checkbox" name="contraindicacoes" value="Úlcera gástrica"> Úlcera gástrica</label>
        <label><input type="checkbox" name="contraindicacoes" value="Asma"> Asma</label>
        <label><input type="checkbox" name="contraindicacoes" value="Insuf"> Insuf</label>
      </fieldset>
    </section>

  <fieldset>
    <section>
      <h2>Prontuário</h2>
      <label for="dadoSubjetivo">Subjetivo:</label>
      <input type="text" id="dadoSubjetivo" name="dadoSubjetivo" required>

      <label for="dadoObjetivo">Objetivo:</label>
      <input type="text" id="dadoObjetivo" name="dadoObjetivo" required>

      <label for="dadoAvaliacao">Avaliação:</label>
      <input type="text" id="dadoAvaliacao" name="dadoAvaliacao" required>

      <label for="dadoPlano">Plano:</label>
      <input type="text" id="dadoPlano" name="dadoPlano" required>
    
      <button onclick="salvar()">Enviar</button>
      
      
    </section>
  </fieldset>
    <script>


      function salvar() {
        //capturando campos do html e jogando pro js
        var nomePaciente = document.getElementById('nomePaciente').value;
        var dataNascimento = document.getElementById('dataNascimento').value;

        //criando o objeto paciente com os campos capturados
        var paciente = {
          "nome": nomePaciente,
          "dataNascimento": dataNascimento
        }

        // envia os dados para o back-end usando AJAX
        $.ajax({
          type: 'POST',
          url: '/paciente',
          data: JSON.stringify(paciente), // aqui o objeto paciente criado acima será enviao ao backende via ajax
          dataType: 'json',
          success: function (response) {
            console.log('Dados enviados com sucesso!');
            console.log(response);
          }, error: function (error) {
            console.log('Erro ao enviar os dados!');
            console.log(error);
          }
        });
      }




    </script>
</body>

</html>